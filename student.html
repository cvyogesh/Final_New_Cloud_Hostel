<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">

    <div class="container mx-auto p-4 md:p-8">
        <a href="index.html" class="text-blue-600 hover:underline mb-6 inline-block">&larr; Back to Home</a>

        <!-- AUTHENTICATION SECTION -->
        <div id="auth-section" class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md">
            <div class="flex border-b mb-6">
                <button id="login-tab" class="py-2 px-4 text-gray-500 border-b-2 border-blue-500 font-semibold">Login</button>
                <button id="register-tab" class="py-2 px-4 text-gray-500 font-semibold">Register</button>
            </div>
            <div id="login-form">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Student Login</h2>
                <input type="email" id="login-email" placeholder="Email" class="w-full p-3 mb-4 border rounded">
                <input type="password" id="login-password" placeholder="Password" class="w-full p-3 mb-4 border rounded">
                <button id="loginBtn" class="w-full bg-blue-600 text-white p-3 rounded hover:bg-blue-700 transition-colors">Login</button>
            </div>
            <div id="register-form" class="hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">New Student Registration</h2>
                <input type="text" id="register-fullName" placeholder="Full Name" class="w-full p-3 mb-4 border rounded">
                <input type="email" id="register-email" placeholder="Email" class="w-full p-3 mb-4 border rounded">
                <input type="password" id="register-password" placeholder="Password" class="w-full p-3 mb-4 border rounded">
                <input type="text" id="register-department" placeholder="Department" class="w-full p-3 mb-4 border rounded">
                <input type="number" id="register-year" placeholder="Year of Study" class="w-full p-3 mb-4 border rounded">
                <select id="register-gender" class="w-full p-3 mb-4 border rounded">
                    <option value="" disabled selected>Select Gender</option><option>Male</option><option>Female</option>
                </select>
                <label class="flex items-center gap-2 mb-4"><input type="checkbox" id="register-pd">Physically Disabled</label>
                <button id="registerBtn" class="w-full bg-green-600 text-white p-3 rounded hover:bg-green-700 transition-colors">Register</button>
            </div>
        </div>

        <!-- DASHBOARD SECTION -->
        <div id="dashboard-section" class="hidden">
            <div class="flex justify-between items-center mb-6">
                <h1 id="welcome-msg" class="text-3xl font-bold text-gray-800"></h1>
                <button id="logoutBtn" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">Logout</button>
            </div>
            <div id="status-display" class="bg-white p-6 rounded-lg shadow-md mb-8"></div>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Hostel Occupancy Status</h2>
                <div id="room-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"></div>
            </div>
        </div>
    </div>

    <!-- ========= NEW AI CHAT INTERFACE ========= -->
    <div id="chat-container" class="hidden fixed bottom-20 right-5 w-80 h-96 bg-white rounded-lg shadow-2xl flex flex-col transition-all">
        <div class="bg-blue-600 text-white p-3 rounded-t-lg flex justify-between items-center">
            <h3 class="font-bold">Hostel AI Assistant</h3>
            <button id="close-chat" class="text-xl">&times;</button>
        </div>
        <div id="chat-messages" class="flex-1 p-4 overflow-y-auto">
            <!-- Messages will appear here -->
        </div>
        <div class="p-2 border-t flex">
            <input type="text" id="chat-input" placeholder="Ask a question..." class="w-full p-2 border rounded-l-md">
            <button id="send-chat" class="bg-blue-600 text-white px-4 rounded-r-md hover:bg-blue-700">Send</button>
        </div>
    </div>

    <button id="open-chat-button" class="hidden fixed bottom-5 right-5 bg-blue-600 text-white rounded-full w-14 h-14 flex items-center justify-center text-2xl shadow-lg hover:bg-blue-700 transition-transform hover:scale-110">
        ðŸ¤–
    </button>
    <!-- ========================================= -->

    <script src="utils.js"></script>
    <script src="student.js"></script>
</body>
</html>

